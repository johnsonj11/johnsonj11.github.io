<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title> 2 R Practical 2: mapping house price variation in Sheffield | Data Science R Practicals and Exercises</title>
  <meta name="description" content=" 2 R Practical 2: mapping house price variation in Sheffield | Data Science R Practicals and Exercises" />
  <meta name="generator" content="bookdown 0.42 and GitBook 2.6.7" />

  <meta property="og:title" content=" 2 R Practical 2: mapping house price variation in Sheffield | Data Science R Practicals and Exercises" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content=" 2 R Practical 2: mapping house price variation in Sheffield | Data Science R Practicals and Exercises" />
  
  
  

<meta name="author" content="Dr Jill Johnson" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r-practical-1-brexit.html"/>
<link rel="next" href="r-practical-3-detecting-breast-cancer.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">MAS109 Exercises</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Instructions</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#r-packages"><i class="fa fa-check"></i>R Packages</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#r-markdown"><i class="fa fa-check"></i>R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="r-practical-1-brexit.html"><a href="r-practical-1-brexit.html"><i class="fa fa-check"></i><b>1</b> R Practical 1: Brexit</a>
<ul>
<li class="chapter" data-level="1.1" data-path="r-practical-1-brexit.html"><a href="r-practical-1-brexit.html#introduction"><i class="fa fa-check"></i><b>1.1</b> Introduction</a></li>
<li class="chapter" data-level="1.2" data-path="r-practical-1-brexit.html"><a href="r-practical-1-brexit.html#tasks"><i class="fa fa-check"></i><b>1.2</b> Tasks</a></li>
<li class="chapter" data-level="1.3" data-path="r-practical-1-brexit.html"><a href="r-practical-1-brexit.html#data-sources"><i class="fa fa-check"></i><b>1.3</b> Data sources</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-practical-2-mapping-house-price-variation-in-sheffield.html"><a href="r-practical-2-mapping-house-price-variation-in-sheffield.html"><i class="fa fa-check"></i><b>2</b> R Practical 2: mapping house price variation in Sheffield</a>
<ul>
<li class="chapter" data-level="2.1" data-path="r-practical-2-mapping-house-price-variation-in-sheffield.html"><a href="r-practical-2-mapping-house-price-variation-in-sheffield.html#introduction-1"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="r-practical-2-mapping-house-price-variation-in-sheffield.html"><a href="r-practical-2-mapping-house-price-variation-in-sheffield.html#tasks-1"><i class="fa fa-check"></i><b>2.2</b> Tasks</a></li>
<li class="chapter" data-level="2.3" data-path="r-practical-2-mapping-house-price-variation-in-sheffield.html"><a href="r-practical-2-mapping-house-price-variation-in-sheffield.html#data-sources-1"><i class="fa fa-check"></i><b>2.3</b> Data sources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r-practical-3-detecting-breast-cancer.html"><a href="r-practical-3-detecting-breast-cancer.html"><i class="fa fa-check"></i><b>3</b> R Practical 3: detecting breast cancer</a>
<ul>
<li class="chapter" data-level="3.1" data-path="r-practical-3-detecting-breast-cancer.html"><a href="r-practical-3-detecting-breast-cancer.html#introduction-2"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="r-practical-3-detecting-breast-cancer.html"><a href="r-practical-3-detecting-breast-cancer.html#data"><i class="fa fa-check"></i><b>3.2</b> Data</a></li>
<li class="chapter" data-level="3.3" data-path="r-practical-3-detecting-breast-cancer.html"><a href="r-practical-3-detecting-breast-cancer.html#tasks-2"><i class="fa fa-check"></i><b>3.3</b> Tasks</a></li>
<li class="chapter" data-level="3.4" data-path="r-practical-3-detecting-breast-cancer.html"><a href="r-practical-3-detecting-breast-cancer.html#data-source"><i class="fa fa-check"></i><b>3.4</b> Data source</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="r-practical-4-can-brain-training-games-make-you-smarter.html"><a href="r-practical-4-can-brain-training-games-make-you-smarter.html"><i class="fa fa-check"></i><b>4</b> R practical 4: can brain-training games make you smarter?</a>
<ul>
<li class="chapter" data-level="4.1" data-path="r-practical-4-can-brain-training-games-make-you-smarter.html"><a href="r-practical-4-can-brain-training-games-make-you-smarter.html#introduction-3"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="r-practical-4-can-brain-training-games-make-you-smarter.html"><a href="r-practical-4-can-brain-training-games-make-you-smarter.html#tasks-3"><i class="fa fa-check"></i><b>4.2</b> Tasks</a></li>
<li class="chapter" data-level="4.3" data-path="r-practical-4-can-brain-training-games-make-you-smarter.html"><a href="r-practical-4-can-brain-training-games-make-you-smarter.html#data-source-1"><i class="fa fa-check"></i><b>4.3</b> Data source</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="chapter-1-problems.html"><a href="chapter-1-problems.html"><i class="fa fa-check"></i><b>5</b> Chapter 1 problems</a></li>
<li class="chapter" data-level="6" data-path="chapters-3-and-4-problems.html"><a href="chapters-3-and-4-problems.html"><i class="fa fa-check"></i><b>6</b> Chapters 3 and 4 problems</a></li>
<li class="chapter" data-level="7" data-path="chapter-5-problems.html"><a href="chapter-5-problems.html"><i class="fa fa-check"></i><b>7</b> Chapter 5 problems</a></li>
<li class="chapter" data-level="8" data-path="chapters-7-and-8-problems.html"><a href="chapters-7-and-8-problems.html"><i class="fa fa-check"></i><b>8</b> Chapters 7 and 8 problems</a></li>
<li class="chapter" data-level="9" data-path="chapters-9-and-10-problems.html"><a href="chapters-9-and-10-problems.html"><i class="fa fa-check"></i><b>9</b> Chapters 9 and 10 problems</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science R Practicals and Exercises</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-practical-2-mapping-house-price-variation-in-sheffield" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number"> 2</span> R Practical 2: mapping house price variation in Sheffield<a href="r-practical-2-mapping-house-price-variation-in-sheffield.html#r-practical-2-mapping-house-price-variation-in-sheffield" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<script type="text/javascript">
$(document).ready(function() {
  $folds = $(".fold");
  $folds.wrapInner("<div class=\"fold-blck\">"); // wrap a div container around content
  $folds.prepend("<button class=\"fold-btn\">Show hint</button>");  // add a button
  $(".fold-blck").toggle();  // fold all blocks
  $(".fold-btn").on("click", function() {  // add onClick event
    $(this).text($(this).text() === "Show hint" ? "Hide hint" : "Show hint");  // if the text equals "Fold", change it to "Unfold"or else to "Fold" 
    $(this).next(".fold-blck").toggle("linear");  // "swing" is the default easing function. This can be further customized in its speed or the overall animation itself.
  })
});
</script>
<div class="warning">
<p>
To do this practical, you will need to install the
<code>leaflet</code> package. Before you do anything else, start RStudio
and run the command
</p>
</div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="r-practical-2-mapping-house-price-variation-in-sheffield.html#cb3-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;leaflet&quot;</span>)</span></code></pre></div>
<div id="introduction-1" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Introduction<a href="r-practical-2-mapping-house-price-variation-in-sheffield.html#introduction-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The spreadsheet <code>house.csv</code>, available on Blackboard, contains data on house prices, for each house sold in Sheffield in 2016, for the postcode districts S1 to S11. Each row corresponds to one house sale. Download the file from Blackboard onto your computer. Open this file in Excel to inspect the data.</p>
<p>The columns are as follows.</p>
<p>-<code>price</code>: the price paid (in pounds) for the house;</p>
<p>-<code>Postcode</code>: the postcode of the house;</p>
<p>-<code>Latitude</code> and <code>Longitude</code>: the geographical coordinates of the postcode;</p>
<p>-<code>district</code>: the postcode district of the house (the first letter and number of the full postcode).</p>
<p>Your main task is to investigate how house prices vary geographically.</p>
</div>
<div id="tasks-1" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Tasks<a href="r-practical-2-mapping-house-price-variation-in-sheffield.html#tasks-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>From the previous practical, you should already have a folder for this module on your computer (or U: drive). Inside that folder, create another folder: <code>Practical 2</code>.</li>
</ol>
<hr>
<ol start="2" style="list-style-type: decimal">
<li>Download the files <code>house.csv</code> and <code>Practical2.Rmd</code> from Blackboard, and put them into your <code>Practical 2</code> folder. Open the file <code>house.csv</code> in Excel to inspect it. Once the installation of the <code>leaflet</code> package has finished, open the rmarkdown document <code>Practical2.Rmd</code> in RStudio. Put your solutions to the following tasks in this rmarkdown document.</li>
</ol>
<div class="fold">
<p>(This animation is from R Practical 1, but you need to do the same sort of thing here. Change the title at the top, as well as the author name.)</p>
<p><img src="images/rmarkdown.gif" width="80%" style="display: block; margin: auto;" /></p>
</div>
<hr>
<ol start="3" style="list-style-type: decimal">
<li>Import the data into R, storing it as a data frame called <code>house</code>. Inspect the first ten rows. Check these against the file in Excel, to make sure the data have been imported correctly.</li>
</ol>
<div class="warning">
<p>
You need to import your data by using a suitable command inside your
.Rmd document. Do not import your data any other way.
</p>
</div>
<div class="fold">
<ul>
<li>Copy and modify <a href="https://johnsonj11.github.io/MAS109-Notes/exploratory-data-analysis-using-r.html#importing-data-into-r-csv-and-.xlsx-files" target="_blank">this lecture notes example: importing data</a></li>
<li>Here, rather than <code>maths.csv</code>, you are importing a file called <code>house.csv</code>.</li>
<li>You need to store the result as <code>house</code> rather than <code>maths</code>.</li>
</ul>
</div>
<hr>
<ol start="4" style="list-style-type: decimal">
<li><p>Use the <code>summary</code> command to obtain some basic summary statistics of house prices.</p>
<ul>
<li><p>You should see a noticeable difference between the mean and median. From the output of the <code>summary</code> command, what do you think has caused this?</p></li>
<li><p>Which would be a better choice to indicate a `typical’ house price: the mean or the median?</p></li>
</ul></li>
</ol>
<div class="fold">
<ul>
<li><a href="https://johnsonj11.github.io/MAS109-Notes/exploratory-data-analysis-using-r.html#calculating-summary-statistics-with-the-summary-command" target="_blank">Here is an example of using the <code>summary()</code> command.</a></li>
<li>Note that using this command involves extracting the values from a single column in your dataframe: a column called <code>price</code> from a dataframe called <code>house</code>: <a href="https://johnsonj11.github.io/MAS109-Notes/exploratory-data-analysis-using-r.html#viewing-and-extracting-data-from-a-column" target="_blank">here is an example</a>, where we extract the values from a column called <code>score</code> from a dataframe called <code>maths</code>.</li>
</ul>
</div>
<hr>
<ol start="5" style="list-style-type: decimal">
<li>Produce a suitable plot for displaying the distribution of all house prices. Specify a label for the <span class="math inline">\(x\)</span>-axis so that the units are included. How would you describe the shape of this distribution?</li>
</ol>
<div class="fold">
<p>Have a look at <a href="https://johnsonj11.github.io/MAS109-Notes/exploratory-data-analysis-using-r.html#plotting-a-distribution-using-a-histogram" target="_blank">sections 1.6-1.8.1 in your notes</a>.</p>
</div>
<hr>
<ol start="6" style="list-style-type: decimal">
<li>Produce a suitable plot to compare the distribution of house prices per postcode district. Which three districts appear to have the most variation in house prices?</li>
</ol>
<div class="fold">
<p>Have a look at <a href="https://johnsonj11.github.io/MAS109-Notes/exploratory-data-analysis-using-r.html#box-plots" target="_blank">section 1.11 in your notes</a>.</p>
</div>
<hr>
<ol start="7" style="list-style-type: decimal">
<li><p>You will now investigate where the cheapest and most expensive houses tend to be.</p>
<ul>
<li>Find the 5th percentile and the 95th percentile of the house prices in the data set, and assign them to the variables <code>p05</code> and <code>p95</code>. You will find the <a href="https://johnsonj11.github.io/MAS109-Notes/exploratory-data-analysis-using-r.html#calculating-other-quantilespercentiles" target="_blank">quantile() command</a> helpful.</li>
<li>Follow the instructions in <code>Practical2.Rmd</code> to produce a map of the most expensive and cheapest house prices. (You should be able to scroll and zoom on the map if you want.)</li>
<li>What do you notice? (Any ideas as to why?)</li>
</ul></li>
</ol>
</div>
<div id="data-sources-1" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Data sources<a href="r-practical-2-mapping-house-price-variation-in-sheffield.html#data-sources-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The house price data from this practical were obtained from (<a href="https://www.gov.uk/government/statistical-data-sets/price-paid-data-downloads" class="uri">https://www.gov.uk/government/statistical-data-sets/price-paid-data-downloads</a>)</p>
<p>Data produced by Land Registry (c) Crown copyright 2016.</p>
<p>The postcode coordinates data were obtained from (<a href="https://www.doogal.co.uk/AdministrativeAreas.php?district=E08000019" class="uri">https://www.doogal.co.uk/AdministrativeAreas.php?district=E08000019</a>)</p>
<p>Contains Ordnance Survey data (c) Crown copyright and database right 2017</p>
<p>Contains National Statistics data (c) Crown copyright and database right 2017</p>
<p>All data accessed 9/02/17.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-practical-1-brexit.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="r-practical-3-detecting-breast-cancer.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/02-Houses.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
